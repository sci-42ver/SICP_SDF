<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
  <script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
  <script
    type="text/javascript">window.addEventListener('DOMContentLoaded', function () { var v = archive_analytics.values; v.service = 'wb'; v.server_name = 'wwwb-app224.us.archive.org'; v.server_ms = 1357; archive_analytics.send_pageview({}); });</script>
  <script type="text/javascript" src="https://web-static.archive.org/_static/js/bundle-playback.js?v=qM_6omlu"
    charset="utf-8"></script>
  <script type="text/javascript" src="https://web-static.archive.org/_static/js/wombat.js?v=txqj7nKC"
    charset="utf-8"></script>
  <script>window.RufflePlayer = window.RufflePlayer || {}; window.RufflePlayer.config = { "autoplay": "on", "unmuteOverlay": "hidden" };</script>
  <script type="text/javascript" src="https://web-static.archive.org/_static/js/ruffle/ruffle.js"></script>
  <script type="text/javascript">
    __wm.init("https://web.archive.org/web");
    __wm.wombat("http://community.schemewiki.org/?sicp-ex-1.13", "20220526142243", "https://web.archive.org/", "web", "https://web-static.archive.org/_static/",
      "1653574963");
  </script>
  <link rel="stylesheet" type="text/css"
    href="https://web-static.archive.org/_static/css/banner-styles.css?v=S1zqJCYt" />
  <link rel="stylesheet" type="text/css" href="https://web-static.archive.org/_static/css/iconochive.css?v=qtvMKcIJ" />
  <!-- End Wayback Rewrite JS Include -->
  <title>sicp-ex-1.13</title>
  <base href="https://web.archive.org/web/20220526142243/http://community.schemewiki.org/">
  <link rel="alternate" type="application/rss+xml" title="RSS"
    href="/web/20220526142243/http://community.schemewiki.org/?c=rss">
  <link rel="stylesheet" href="/web/20220526142243cs_/http://community.schemewiki.org/css/default.css" type="text/css">
</head>

<body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
  <script>__wm.rw(0);</script>
  <div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;">
    <div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
      <div id="donato" style="position:relative;width:100%;">
        <div id="donato-base">
          <iframe id="donato-if"
            src="https://archive.org/includes/donate.php?as_page=1&amp;platform=wb&amp;referer=https%3A//web.archive.org/web/20220526142243/http%3A//community.schemewiki.org/%3Fsicp-ex-1.13"
            scrolling="no" frameborder="0" style="width:100%; height:100%">
          </iframe>
        </div>
      </div>
      <div id="wm-ipp-inside">
        <div id="wm-toolbar" style="position:relative;display:flex;flex-flow:row nowrap;justify-content:space-between;">
          <div id="wm-logo" style="/*width:110px;*/padding-top:12px;">
            <a href="/web/" title="Wayback Machine home page"><img
                src="https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-200.png"
                srcset="https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-100.png, https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-150.png 1.5x, https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-200.png 2x"
                alt="Wayback Machine" style="width:100px" border="0" /></a>
          </div>
          <div class="c" style="display:flex;flex-flow:column nowrap;justify-content:space-between;flex:1;">
            <form class="u" style="display:flex;flex-direction:row;flex-wrap:nowrap;" target="_top" method="get"
              action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL"
                value="http://community.schemewiki.org/?sicp-ex-1.13" onfocus="this.focus();this.select();"
                style="flex:1;" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date"
                value="20220526142243" /><input type="submit" value="Go" />
            </form>
            <div style="display:flex;flex-flow:row nowrap;align-items:flex-end;">
              <div class="s" id="wm-nav-captures" style="flex:1;">
                <a class="t" href="/web/20220526142243*/http://community.schemewiki.org/?sicp-ex-1.13"
                  title="See a list of every capture for this URL">12 captures</a>
                <div class="r" title="Timespan for captures of this URL">11 Dec 2011 - 01 Nov 2022</div>
              </div>
              <div class="k">
                <a href="" id="wm-graph-anchor">
                  <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
                    <canvas id="wm-sparkline-canvas" width="725" height="27" border="0"></canvas>
                  </div>
                </a>
              </div>
            </div>
          </div>
          <div class="n">
            <table>
              <tbody>
                <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
                <tr class="m">
                  <td class="b" nowrap="nowrap"><a
                      href="https://web.archive.org/web/20211028204802/http://community.schemewiki.org/?sicp-ex-1.13"
                      title="28 Oct 2021"><strong>Oct</strong></a></td>
                  <td class="c" id="displayMonthEl" title="You are here: 14:22:43 May 26, 2022">MAY</td>
                  <td class="f" nowrap="nowrap"><a
                      href="https://web.archive.org/web/20221101225926/http://community.schemewiki.org/?sicp-ex-1.13"
                      title="01 Nov 2022"><strong>Nov</strong></a></td>
                </tr>
                <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
                <tr class="d">
                  <td class="b" nowrap="nowrap"><a
                      href="https://web.archive.org/web/20211028204802/http://community.schemewiki.org/?sicp-ex-1.13"
                      title="20:48:02 Oct 28, 2021"><img
                        src="https://web-static.archive.org/_static/images/toolbar/wm_tb_prv_on.png"
                        alt="Previous capture" width="14" height="16" border="0" /></a></td>
                  <td class="c" id="displayDayEl" style="width:34px;font-size:22px;white-space:nowrap;"
                    title="You are here: 14:22:43 May 26, 2022">26</td>
                  <td class="f" nowrap="nowrap"><a
                      href="https://web.archive.org/web/20221101225926/http://community.schemewiki.org/?sicp-ex-1.13"
                      title="22:59:26 Nov 01, 2022"><img
                        src="https://web-static.archive.org/_static/images/toolbar/wm_tb_nxt_on.png" alt="Next capture"
                        width="14" height="16" border="0" /></a></td>
                </tr>
                <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
                <tr class="y">
                  <td class="b" nowrap="nowrap"><a
                      href="https://web.archive.org/web/20210507113928/http://community.schemewiki.org/?sicp-ex-1.13"
                      title="07 May 2021"><strong>2021</strong></a></td>
                  <td class="c" id="displayYearEl" title="You are here: 14:22:43 May 26, 2022">2022</td>
                  <td class="f" nowrap="nowrap">2023</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="r"
            style="display:flex;flex-flow:column nowrap;align-items:flex-end;justify-content:space-between;">
            <div id="wm-btns" style="text-align:right;height:23px;">
              <span class="xxs">
                <div id="wm-save-snapshot-success">success</div>
                <div id="wm-save-snapshot-fail">fail</div>
                <a id="wm-save-snapshot-open" href="#" title="Share via My Web Archive">
                  <span class="iconochive-web"></span>
                </a>
                <a href="https://archive.org/account/login.php" title="Sign In" id="wm-sign-in">
                  <span class="iconochive-person"></span>
                </a>
                <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
              </span>
              <a class="xxs" href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine"
                style="top:-6px;"><span class="iconochive-question"
                  style="color:rgb(87,186,244);font-size:160%;"></span></a>
              <a id="wm-tb-close" href="#close" style="top:-2px;" title="Close the toolbar"><span
                  class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
            </div>
            <div id="wm-share" class="xxs">
              <a href="/web/20220526142243/http://web.archive.org/screenshot/http://community.schemewiki.org/?sicp-ex-1.13"
                id="wm-screenshot" title="screenshot">
                <span class="wm-icon-screen-shot"></span>
              </a>
              <a href="#" id="wm-video" title="video">
                <span class="iconochive-movies"></span>
              </a>
              <a id="wm-share-facebook" href="#"
                data-url="https://web.archive.org/web/20220526142243/http://community.schemewiki.org/?sicp-ex-1.13"
                title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook"
                  style="color:#3b5998;font-size:160%;"></span></a>
              <a id="wm-share-twitter" href="#"
                data-url="https://web.archive.org/web/20220526142243/http://community.schemewiki.org/?sicp-ex-1.13"
                title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter"
                  style="color:#1dcaff;font-size:160%;"></span></a>
            </div>
            <div style="padding-right:2px;text-align:right;white-space:nowrap;">
              <a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span
                  id="wm-expand-icon" class="iconochive-down-solid"></span> <span class="xxs"
                  style="font-size:80%;">About this capture</span></a>
            </div>
          </div>
        </div>
        <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
          <div id="wm-capinfo-notice" source="api"></div>
          <div id="wm-capinfo-collected-by">
            <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
            <div style="padding:3px;position:relative" id="wm-collected-by-content">
              <div style="display:inline-block;vertical-align:top;width:49%;">
                <span class="c-logo" style="background-image:url(https://archive.org/services/img/commoncrawl)"></span>
                <div>Collection: <a style="color:#33f;" href="https://archive.org/details/commoncrawl"
                    target="_new"><span class="wm-title">Common Crawl</span></a></div>
                <div style="max-height:75px;overflow:hidden;position:relative;">
                  <div
                    style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);">
                  </div>
                  Web crawl data from Common Crawl.
                </div>
              </div>
            </div>
          </div>
          <div id="wm-capinfo-timestamps">
            <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center"
              title="Timestamps for the elements of this page">TIMESTAMPS</div>
            <div>
              <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important">
              </div>
              <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img
                  src="https://web-static.archive.org/_static/images/loading.gif" alt="loading" /></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="wm-ipp-print">The Wayback Machine -
    https://web.archive.org/web/20220526142243/http://community.schemewiki.org/?sicp-ex-1.13</div>
  <script type="text/javascript">//<![CDATA[
    __wm.bt(725, 27, 25, 2, "web", "http://community.schemewiki.org/?sicp-ex-1.13", "20220526142243", 1996, "https://web-static.archive.org/_static/", ["https://web-static.archive.org/_static/css/banner-styles.css?v=S1zqJCYt", "https://web-static.archive.org/_static/css/iconochive.css?v=qtvMKcIJ"], false);
    __wm.rw(1);
    //]]></script>
  <!-- END WAYBACK TOOLBAR INSERT -->
  <h1 id="title">
    <div><a href="/web/20220526142243/http://community.schemewiki.org/?c=s&amp;key=[[sicp-ex-1.13]]">sicp-ex-1.13</a>
    </div>
  </h1>
  <div id="nav"><a href="/web/20220526142243/http://community.schemewiki.org/">[Top Page]</a><a
      href="/web/20220526142243/http://community.schemewiki.org/?c=r">[Recent Changes]</a><a
      href="/web/20220526142243/http://community.schemewiki.org/?c=a">[All Pages]</a><a
      href="/web/20220526142243/http://community.schemewiki.org/?c=settings">[Settings]</a><a
      href="/web/20220526142243/http://community.schemewiki.org/?category-category">[Categories]</a><a
      href="/web/20220526142243/http://community.schemewiki.org/?wiki-howto">[Wiki Howto]</a><br><a
      href="/web/20220526142243/http://community.schemewiki.org/?p=sicp-ex-1.13&amp;c=e">[Edit]</a><a
      href="/web/20220526142243/http://community.schemewiki.org/?p=sicp-ex-1.13&amp;c=h">[Edit History]</a><br>
    <form method="POST" action="/web/20220526142243/http://community.schemewiki.org/" style="margin:0pt; padding:0pt">
      <input type="hidden" name="c" value="s" style="margin:0pt; padding:0pt"><span>Search:<input type="text" name="key"
          size="10"></span>
    </form>
  </div>
  <hr>
  <hr>
  <p><a href="https://web.archive.org/web/20220526142243/http://community.schemewiki.org/?sicp-ex-1.12">&lt;&lt;
      Previous exercise (1.12)</a> | <a
      href="/web/20220526142243/http://community.schemewiki.org/?sicp-solutions">sicp-solutions</a> | <a
      href="https://web.archive.org/web/20220526142243/http://community.schemewiki.org/?sicp-ex-1.14">Next exercise
      (1.14) &gt;&gt;</a>
  </p>
  <hr>
  <p>A simple, beautiful modern solution by Sébastien Gignoux:
  </p>
  <p><a
      href="https://web.archive.org/web/20220526142243/https://codology.net/post/sicp-solution-exercise-1-13/">https://codology.net/post/sicp-solution-exercise-1-13/</a>
  </p>
  <p>Another one by <a
      href="https://web.archive.org/web/20220526142243/http://www.luxiyalu.com/cisp-in-scheme-ruby-and-javascript/">Lucia</a>:
  </p>
  <p><a
      href="https://web.archive.org/web/20220526142243/https://www.evernote.com/shard/s100/sh/6a4b59d5-e99f-417c-9ef3-bcf03a4efecd/7e030d4602a0bef5df0d6dd4c2ad47bf">https://www.evernote.com/shard/s100/sh/6a4b59d5-e99f-417c-9ef3-bcf03a4efecd/7e030d4602a0bef5df0d6dd4c2ad47bf</a>
  </p>
  <hr>
  <p>This is a solution by <a href="https://web.archive.org/web/20220526142243/https://github.com/phillbush">Seninha
      (aka phillbush)</a>.
  </p>
  <p>The solution is divided in two proofs, the first one divided in
    two parts. First, it's proved by induction that <tt>Fib(n)=(φⁿ-ψⁿ)/√5</tt>,
    this involves two parts: proving for the base case, and proving for
    the inductive case. Then, that proof is used to prove that <tt>Fib(n)</tt>
    is the closest integer to <tt>φⁿ/√5</tt>.
  </p>
  <p>The solution uses the <tt>⊦</tt> notation,
    known as sequent calculus. What is after the ⊦ is what we want to
    prove. So, for example, <tt>⊦ A</tt> means that we want to prove <tt>A</tt>; we will
    simplify or apply properties to <tt>A</tt> during the proof. What comes before
    the <tt>⊦</tt> are hypotheses that are helpful for our proof. So, for example,
    <tt>H₁ ⊦ A</tt> means that we are using the hypothesis <tt>H₁</tt> to prove <tt>A</tt>.
    We may use ellipsis to omit previous hypotheses.
    The symbol <tt>⊤</tt> means <em>tautology</em> or <em>truth</em>.
  </p>
  <p><strong>Proof 1, part 1 (base case).</strong>
  </p>
  <p>We need to prove that <tt>Fib(n)=(φⁿ-ψⁿ)/√5</tt> is valid for <tt>n=0</tt> and for <tt>n=1</tt>.
  </p>
  <pre>      ⊦ Fib(0)=(φ⁰-ψ⁰)/√5 ∧ Fib(1)=(φ¹-ψ¹)/√5.
</pre>
  <p>Simplifying both sides of the conjunction.
  </p>
  <pre>      ⊦ Fib(0)=0 ∧ Fib(1)=1.
</pre>
  <p>By definition, <tt>Fib(0)=0</tt> and <tt>Fib(1)=1</tt>, so both sides of the conjunction are true.
  </p>
  <pre>      ⊦ ⊤ ∧ ⊤.
</pre>
  <p>Simplifying this conjunction, we prove this part.
  </p>
  <pre>      ⊦ ⊤.
</pre>
  <p><strong>Proof 1, part 2 (inductive case).</strong>
  </p>
  <p>Let <tt>k</tt> be a natural number. We are given the two inductive hypothesis
    <tt>H₁</tt> and <tt>H₂</tt>, and we need to prove that <tt>Fib(n) = (φⁿ-ψⁿ)/√5</tt> is valid for
    <tt>n=k+2</tt>.
  </p>
  <pre>      k:ℕ;
      H₁:Fib(k) = (φᵏ-ψᵏ)/√5;
      H₂:Fib(k+1) = (φᵏ⁺¹-ψᵏ⁺¹)/√5
      ⊦ Fib(k+2) = (φᵏ⁺²-ψᵏ⁺²)/√5.
</pre>
  <p>By the definition of <tt>Fib</tt> on the goal, we know that <tt>Fib(k+2)</tt> is equal
    to <tt>Fib(k) + Fib(k+1)</tt>. We can rewrite the goal with this fact.
  </p>
  <pre>      … ⊦ Fib(k) + Fib(k+2) = (φᵏ⁺²-ψᵏ⁺²)/√5.
</pre>
  <p>We can rewrite the goal with the hypotheses <tt>H₁</tt> and <tt>H₂</tt>.
  </p>
  <pre>      … ⊦ (φᵏ-ψᵏ)/√5 + (φᵏ⁺¹-ψᵏ⁺¹)/√5 = (φᵏ⁺²-ψᵏ⁺²)/√5.
</pre>
  <p>We can simplify the left side of the equation on the goal.
  </p>
  <pre>      … ⊦ (φᵏ(φ+1) - ψᵏ(ψ+1))/√5 = (φᵏ⁺²-ψᵏ⁺²)/√5.
</pre>
  <p>As declared in page 38, <tt>φ</tt> is the golden ratio, the only positive
    solution to the equation <tt>x²=x+1</tt>. The <tt>ψ</tt> constant also share that
    property, being the only negative solution to that equation. We
    can apply this equation to <tt>φ</tt> and to <tt>ψ</tt>:
  </p>
  <pre>      … ⊦ (φᵏ·φ² - ψᵏ·ψ²)/√5 = (φᵏ⁺²-ψᵏ⁺²)/√5.
</pre>
  <p>We can simplify the left side of the equation on the goal.
  </p>
  <pre>      … ⊦ (φᵏ⁺² - ψᵏ⁺²)/√5 = (φᵏ⁺²-ψᵏ⁺²)/√5.
</pre>
  <p>Both sides of the equation on the goal are equal. We achieved truth.
  </p>
  <pre>      … ⊦ ⊤.
</pre>
  <p><strong>Proof 2.</strong>
  </p>
  <p>Now that we proved that <tt>Fib(n)=(φⁿ-ψⁿ)/√5</tt>, we can use this fact as
    hypothesis <tt>H₁</tt> to prove that <tt>Fib(n)</tt> is the closest integer to <tt>φⁿ/√5</tt>.
    Formally, we want to prove that the absolute value of <tt>Fib(n)</tt> minus
    <tt>φⁿ/√5</tt> is less than <tt>1/2</tt>, for all n natural.
  </p>
  <pre>      n:ℕ;
      H₁:Fib(n)=(φⁿ-ψⁿ)/√5
      ⊦ |Fib(n) - φⁿ/√5| &lt; 1/2.
</pre>
  <p>We can rewrite <tt>Fib(n)</tt> on the goal with the hypothesis <tt>H₁</tt>.
  </p>
  <pre>      … ⊦ |(φⁿ-ψⁿ)/√5 - φⁿ/√5| &lt; 1/2.
</pre>
  <p>We can simplify the left side of the inequality on the goal.
  </p>
  <pre>      … ⊦ |ψⁿ|/√5 &lt; 1/2.
</pre>
  <p>We can then apply the definition of <tt>ψ</tt>.
  </p>
  <pre>      … ⊦ |((1-√5)/2)ⁿ|/√5 &lt; 1/2.
</pre>
  <p>We can simplify the left side of the inequality on the goal.
  </p>
  <pre>      … ⊦ ((√5-1)/2)ⁿ/√5 &lt; 1/2.
</pre>
  <p>We can add another hypothesis (<tt>H₂</tt>) for the fact that <tt>√5&lt;3</tt>.
  </p>
  <pre>      …; H₂:√5&lt;3 ⊦ ((√5-1)/2)ⁿ/√5 &lt; 1/2.
</pre>
  <p>We can subtract both sides of the inequality in the hypothesis <tt>H₂</tt> by
    one, then divide both sides by two, raise both sides to the <tt>n</tt>-th power,
    and multiply both sides by <tt>1/√5</tt>.
  </p>
  <pre>      …; H₂:1/√5 × ((√5-1)/2)ⁿ &lt; 1/√5 ⊦ ((√5-1)/2)ⁿ/√5 &lt; 1/2.
</pre>
  <p>It's a fact that <tt>1/√5 &lt; 1/2</tt>, we can apply this fact to <tt>H₂</tt>.
  </p>
  <pre>      …; H₂:((√5-1)/2)ⁿ/√5 &lt; 1/√5 &lt; 1/2 ⊦ ((√5-1)/2)ⁿ/√5 &lt; 1/2.
</pre>
  <p>We can fold the double inequality in <tt>H₂</tt> by removing the middle part.
  </p>
  <pre>      …; H₂:((√5-1)/2)ⁿ/√5 &lt; 1/2 ⊦ ((√5-1)/2)ⁿ/√5 &lt; 1/2.
</pre>
  <p>The hypothesis <tt>H₂</tt> is exactly what we want to prove, we achieved the
    truth by redundancy.
  </p>
  <pre>      … ⊦ ⊤.
</pre>
  <p>QED.
  </p>
  <hr>
  <div class="footer" style="text-align:right">Last modified : 2021-12-27 17:29:18<br><a
      href="https://web.archive.org/web/20220526142243/http://www.shiro.dreamhost.com/scheme/wiliki/wiliki.cgi">WiLiKi
      0.5-tekili-7</a> running on <a
      href="https://web.archive.org/web/20220526142243/http://www.shiro.dreamhost.com/scheme/gauche/">Gauche 0.9</a>
  </div>
</body>

</html><!--
     FILE ARCHIVED ON 14:22:43 May 26, 2022 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 09:34:14 Jun 21, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 0.799
  exclusion.robots: 0.216
  exclusion.robots.policy: 0.205
  esindex: 0.013
  cdx.remote: 36.814
  LoadShardBlock: 1234.329 (3)
  PetaboxLoader3.datanode: 52.678 (4)
  PetaboxLoader3.resolve: 1218.324 (3)
  load_resource: 61.516
-->